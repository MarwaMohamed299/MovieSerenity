import{c as I}from"./chunk-KOPGFFRO.js";import{b as O}from"./chunk-ADC6SXVN.js";import{c as t,e as se,f as s,g as C,h as B,i as g,j as a}from"./chunk-7V7WNOD5.js";var _=se((xt,j)=>{j.exports=Serenity.Extensions});var te=s(a(),1);var E=s(a(),1);var M=class M extends E.ColumnsBase{};t(M,"MovieCastColumns"),M.columnsKey="MovieDB.MovieCast",M.Fields=(0,E.fieldsProxy)();var w=M;var m=s(a(),1);var u=class u extends m.PrefixedContext{constructor(p){if(super(p),!u.init){u.init=!0;var e=m.LookupEditor,o=m.StringEditor;(0,m.initFormType)(u,["PersonId",e,"Character",o])}}};t(u,"MovieCastForm"),u.formKey="MovieDB.MovieCast";var D=u;var h=s(a(),1);var d=class d{};t(d,"MovieCastRow"),d.idProperty="MovieCastId",d.nameProperty="Character",d.localTextPrefix="MovieDB.MovieCast",d.deletePermission="Adminstration:General",d.insertPermission="Adminstration:General",d.readPermission="Adminstration:General",d.updatePermission="Adminstration:General",d.Fields=(0,h.fieldsProxy)();var L=d;var K=s(a(),1),U;(e=>(e.baseUrl="MovieDB/MovieCast",e.Methods={Create:"MovieDB/MovieCast/Create",Update:"MovieDB/MovieCast/Update",Delete:"MovieDB/MovieCast/Delete",Retrieve:"MovieDB/MovieCast/Retrieve",List:"MovieDB/MovieCast/List"},["Create","Update","Delete","Retrieve","List"].forEach(o=>{e[o]=function(n,i,v){return(0,K.serviceRequest)(e.baseUrl+"/"+o,n,i,v)}})))(U||(U={}));var G=s(a(),1);var N=s(a(),1);var S,P,F,b;F=[N.Decorators.registerFormatter("MovieTutorial.GenreListFormatter")];var y=class y{format(p){let e=p.value;if(!e||!e.length)return"";let o=S==null?void 0:S.itemById;return o?e.map(n=>{var i=o[n];return p.escape(i==null?n:i.Name)}).join(", "):(P!=null||(P=I.getLookupAsync().then(n=>{var i;S=n;try{(i=p.grid)==null||i.invalidate()}finally{S=null,P=null}}).catch(()=>P=null)),O("i",{class:"fa fa-spinner"}))}};b=C(null),y=g(b,0,"GenreListFormatter",F,y),t(y,"GenreListFormatter"),B(b,1,y);var T=y;var q=class q extends G.ColumnsBase{};t(q,"MovieColumns"),q.columnsKey="MovieDB.Movie",q.Fields=(0,G.fieldsProxy)();var Y=q;var r=s(a(),1);var R=class R extends r.PrefixedContext{constructor(p){if(super(p),!R.init){R.init=!0;var e=r.StringEditor,o=r.TextAreaEditor,n=k,i=r.IntegerEditor,v=r.DateEditor,re=r.EnumEditor,ie=r.LookupEditor;(0,r.initFormType)(R,["Title",e,"Description",o,"CastList",n,"Storyline",o,"Year",i,"ReleaseDate",v,"Runtime",i,"Kind",re,"GenreList",ie])}}};t(R,"MovieForm"),R.formKey="MovieDB.Movie";var z=R;var J=s(a(),1);var c=class c{};t(c,"MovieGenresRow"),c.idProperty="MovieGenreId",c.localTextPrefix="MovieDB.MovieGenres",c.deletePermission="Adminstration:General",c.insertPermission="Adminstration:General",c.readPermission="Adminstration:General",c.updatePermission="Adminstration:General",c.Fields=(0,J.fieldsProxy)();var H=c;var V=s(a(),1),Q;(e=>(e.baseUrl="MovieDB/MovieGenres",e.Methods={Create:"MovieDB/MovieGenres/Create",Update:"MovieDB/MovieGenres/Update",Delete:"MovieDB/MovieGenres/Delete",Retrieve:"MovieDB/MovieGenres/Retrieve",List:"MovieDB/MovieGenres/List"},["Create","Update","Delete","Retrieve","List"].forEach(o=>{e[o]=function(n,i,v){return(0,V.serviceRequest)(e.baseUrl+"/"+o,n,i,v)}})))(Q||(Q={}));var X=s(a(),1);var l=class l{};t(l,"MovieRow"),l.idProperty="MovieId",l.nameProperty="Title",l.localTextPrefix="MovieDB.Movie",l.deletePermission="Administration:General",l.insertPermission="Administration:General",l.readPermission="Administration:General",l.updatePermission="Administration:General",l.Fields=(0,X.fieldsProxy)();var W=l;var $=s(a(),1),Z;(e=>(e.baseUrl="MovieDB/Movie",e.Methods={Create:"MovieDB/Movie/Create",Update:"MovieDB/Movie/Update",Delete:"MovieDB/Movie/Delete",Retrieve:"MovieDB/Movie/Retrieve",List:"MovieDB/Movie/List"},["Create","Update","Delete","Retrieve","List"].forEach(o=>{e[o]=function(n,i,v){return(0,$.serviceRequest)(e.baseUrl+"/"+o,n,i,v)}})))(Z||(Z={}));var oe=s(_(),1);var ee,A,ae;ee=[te.Decorators.registerEditor("MovieSerenity.MovieDB.MovieCastEditor")];var f=class f extends(ae=oe.GridEditorDialog){constructor(){super(...arguments);this.form=new D(this.idPrefix)}getFormKey(){return D.formKey}getNameProperty(){return L.nameProperty}getLocalTextPrefix(){return L.localTextPrefix}getDialogType(){return f}getAddButtonCaption(){return"Add"}};A=C(ae),f=g(A,0,"MovieCastEditDialog",ee,f),t(f,"MovieCastEditDialog"),B(A,1,f);var k=f;export{Y as a,z as b,W as c,Z as d,k as e};
//# sourceMappingURL=chunk-LGBZ2V7L.js.map
