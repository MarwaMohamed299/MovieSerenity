import{c as O}from"../../../_chunks/chunk-4NKH7I5A.js";import{b as U}from"../../../_chunks/chunk-ADC6SXVN.js";import{c as t,f as p,g as u,h as v,i as R,j as l}from"../../../_chunks/chunk-7V7WNOD5.js";var V=p(l(),1);var S=p(l(),1);var B=p(l(),1);var A=p(l(),1);var L,P,h,G;h=[A.Decorators.registerFormatter("MovieTutorial.GenreListFormatter")];var f=class f{format(i){let e=i.value;if(!e||!e.length)return"";let r=L==null?void 0:L.itemById;return r?e.map(a=>{var s=r[a];return i.escape(s==null?a:s.Name)}).join(", "):(P!=null||(P=O.getLookupAsync().then(a=>{var s;L=a;try{(s=i.grid)==null||s.invalidate()}finally{L=null,P=null}}).catch(()=>P=null)),U("i",{class:"fa fa-spinner"}))}};G=u(null),f=R(G,0,"GenreListFormatter",h,f),t(f,"GenreListFormatter"),v(G,1,f);var K=f;var g=class g extends B.ColumnsBase{};t(g,"MovieColumns"),g.columnsKey="MovieDB.Movie",g.Fields=(0,B.fieldsProxy)();var C=g;var o=p(l(),1);var d=class d extends o.PrefixedContext{constructor(i){if(super(i),!d.init){d.init=!0;var e=o.StringEditor,r=o.IntegerEditor,a=o.DateEditor,s=o.EnumEditor,x=o.LookupEditor;(0,o.initFormType)(d,["Title",e,"Description",e,"Storyline",e,"Year",r,"ReleaseDate",a,"Runtime",r,"Kind",s,"GenreList",x])}}};t(d,"MovieForm"),d.formKey="MovieDB.Movie";var q=d;var Y=p(l(),1);var c=class c{};t(c,"MovieGenresRow"),c.idProperty="MovieGenreId",c.localTextPrefix="MovieDB.MovieGenres",c.deletePermission="Adminstration:General",c.insertPermission="Adminstration:General",c.readPermission="Adminstration:General",c.updatePermission="Adminstration:General",c.Fields=(0,Y.fieldsProxy)();var F=c;var N=p(l(),1),Q;(e=>(e.baseUrl="MovieDB/MovieGenres",e.Methods={Create:"MovieDB/MovieGenres/Create",Update:"MovieDB/MovieGenres/Update",Delete:"MovieDB/MovieGenres/Delete",Retrieve:"MovieDB/MovieGenres/Retrieve",List:"MovieDB/MovieGenres/List"},["Create","Update","Delete","Retrieve","List"].forEach(r=>{e[r]=function(a,s,x){return(0,N.serviceRequest)(e.baseUrl+"/"+r,a,s,x)}})))(Q||(Q={}));var $=p(l(),1);var n=class n{};t(n,"MovieRow"),n.idProperty="MovieId",n.nameProperty="Title",n.localTextPrefix="MovieDB.Movie",n.deletePermission="Administration:General",n.insertPermission="Administration:General",n.readPermission="Administration:General",n.updatePermission="Administration:General",n.Fields=(0,$.fieldsProxy)();var m=n;var z=p(l(),1),y;(e=>(e.baseUrl="MovieDB/Movie",e.Methods={Create:"MovieDB/Movie/Create",Update:"MovieDB/Movie/Update",Delete:"MovieDB/Movie/Delete",Retrieve:"MovieDB/Movie/Retrieve",List:"MovieDB/Movie/List"},["Create","Update","Delete","Retrieve","List"].forEach(r=>{e[r]=function(a,s,x){return(0,z.serviceRequest)(e.baseUrl+"/"+r,a,s,x)}})))(y||(y={}));var k=p(l(),1);var H,I,X;H=[k.Decorators.registerClass("MovieSerenity.MovieDB.MovieDialog")];var D=class D extends(X=k.EntityDialog){constructor(){super(...arguments);this.form=new q(this.idPrefix)}getFormKey(){return q.formKey}getRowDefinition(){return m}getService(){return y.baseUrl}};I=u(X),D=R(I,0,"MovieDialog",H,D),t(D,"MovieDialog"),v(I,1,D);var E=D;var J,T,Z;J=[S.Decorators.registerClass("MovieSerenity.MovieDB.MovieGrid")];var M=class M extends(Z=S.EntityGrid){getColumnsKey(){return C.columnsKey}getDialogType(){return E}getRowDefinition(){return m}getService(){return y.baseUrl}getQuickSearchFields(){let i=t(r=>(0,S.localText)(`Db.${m.localTextPrefix}.${r}`),"txt"),e=m.Fields;return[{name:"",title:"All"},{name:e.Description,title:i(e.Description)},{name:e.Storyline,title:i(e.Storyline)},{name:e.Year,title:i(e.Year)}]}};T=u(Z),M=R(T,0,"MovieGrid",J,M),t(M,"MovieGrid"),v(T,1,M);var b=M;var Ze=t(()=>(0,V.gridPageInit)(b),"default");export{Ze as default};
//# sourceMappingURL=MoviePage.js.map
